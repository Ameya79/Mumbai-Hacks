{% extends "base.html" %}

{% block title %}Settings - Family Finance Manager{% endblock %}

{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/' + theme + '/dashboard.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/' + theme + '/settings.css') }}">
{% endblock %}

{% block content %}
    <!-- Header -->
    <header class="bg-white shadow-sm">
        <div class="px-6 py-4 flex justify-between items-center">
            <h2 class="text-xl font-semibold text-gray-800">Settings</h2>
            <div class="flex items-center space-x-4">
                <div class="relative">
                    <button class="p-2 rounded-full hover:bg-gray-100">
                        <i class="fas fa-bell text-gray-500"></i>
                        <span class="absolute top-0 right-0 h-2 w-2 rounded-full bg-danger"></span>
                    </button>
                </div>
                <div class="relative">
                    <button id="userMenuButton" class="flex items-center space-x-2 focus:outline-none">
                        <span class="hidden md:block text-sm font-medium">Family Admin</span>
                        <img src="https://ui-avatars.com/api/?name=Family+User&background=4f46e5&color=fff" class="w-8 h-8 rounded-full" alt="User">
                    </button>
                </div>
            </div>
        </div>
    </header>

    <main class="p-6">
        <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
            <!-- Settings Navigation -->
            <div class="lg:col-span-1">
                <div class="bg-white p-4 rounded-lg shadow-sm">
                    <ul class="space-y-2">
                        <li><a href="#preferences" class="settings-nav-link active"><i class="fas fa-sliders-h mr-3"></i>Preferences</a></li>
                        <li><a href="#security" class="settings-nav-link"><i class="fas fa-shield-alt mr-3"></i>Security</a></li>
                        <li><a href="#notifications" class="settings-nav-link"><i class="fas fa-bell mr-3"></i>Notifications</a></li>
                        <li><a href="#data" class="settings-nav-link"><i class="fas fa-database mr-3"></i>Data Management</a></li>
                    </ul>
                </div>
            </div>

            <!-- Settings Content -->
            <div class="lg:col-span-3">
                <!-- Preferences Section -->
                <div id="preferences" class="settings-section">
                    <div class="bg-white p-6 rounded-lg shadow-sm">
                        <h3 class="text-lg font-semibold mb-4">Preferences</h3>
                        <form>
                            <div class="space-y-4">
                                <div>
                                    <label for="currency" class="block text-sm font-medium text-gray-700">Currency</label>
                                    <select id="currency" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm">
                                        <option>USD ($)</option>
                                        <option>EUR (€)</option>
                                        <option>GBP (£)</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="date-format" class="block text-sm font-medium text-gray-700">Date Format</label>
                                    <select id="date-format" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm">
                                        <option>MM/DD/YYYY</option>
                                        <option>DD/MM/YYYY</option>
                                        <option>YYYY-MM-DD</option>
                                    </select>
                                </div>
                            </div>
                            <div class="mt-4">
                                <button type="submit" class="btn-primary">Save Preferences</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Security Section -->
                <div id="security" class="settings-section hidden">
                    <div class="bg-white p-6 rounded-lg shadow-sm">
                        <h3 class="text-lg font-semibold mb-4">Password</h3>
                        <form>
                            <div class="space-y-4">
                                <div>
                                    <label for="current-password" class="block text-sm font-medium text-gray-700">Current Password</label>
                                    <input type="password" id="current-password" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm">
                                </div>
                                <div>
                                    <label for="new-password" class="block text-sm font-medium text-gray-700">New Password</label>
                                    <input type="password" id="new-password" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm">
                                </div>
                                <div>
                                    <label for="confirm-password" class="block text-sm font-medium text-gray-700">Confirm New Password</label>
                                    <input type="password" id="confirm-password" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm">
                                </div>
                            </div>
                            <div class="mt-4">
                                <button type="submit" class="btn-primary">Update Password</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Notifications Section -->
                <div id="notifications" class="settings-section hidden">
                    <div class="bg-white p-6 rounded-lg shadow-sm">
                        <h3 class="text-lg font-semibold mb-4">Notifications</h3>
                        <div class="space-y-4">
                            <div class="flex items-center justify-between">
                                <span class="text-sm font-medium text-gray-700">Weekly Summary Email</span>
                                <label class="switch"><input type="checkbox" checked><span class="slider"></span></label>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-sm font-medium text-gray-700">Budget Alerts</span>
                                <label class="switch"><input type="checkbox" checked><span class="slider"></span></label>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-sm font-medium text-gray-700">Savings Goal Updates</span>
                                <label class="switch"><input type="checkbox"><span class="slider"></span></label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Data Management Section -->
                <div id="data" class="settings-section hidden">
                    <div class="bg-white p-6 rounded-lg shadow-sm">
                        <h3 class="text-lg font-semibold mb-4">Data Management</h3>
                        <div class="flex gap-4">
                            <button class="btn-secondary"><i class="fas fa-download mr-2"></i>Export Data</button>
                            <button class="btn-secondary"><i class="fas fa-upload mr-2"></i>Import Data</button>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-sm mt-6 border-t border-red-200">
                        <h3 class="text-lg font-semibold text-red-600 mb-4">Delete Account</h3>
                        <p class="text-sm text-gray-600 mb-4">Permanently delete your account and all associated data. This action cannot be undone.</p>
                        <button class="btn-danger">Delete My Account</button>
                    </div>
                </div>
            </div>
        </div>
    </main>
{% endblock %}

{% block scripts %}
    <script src="{{ url_for('static', filename='js/settings.js') }}"></script>
{% endblock %}
